---
permalink: concepts/concept_data_manage_volumes_solidfire_quality_of_service.html 
sidebar: sidebar 
keywords: solidfire, element, qos, performance, iops 
summary: 'SolidFire 스토리지 클러스터는 볼륨별로 서비스 품질(QoS) 매개변수를 제공할 수 있습니다.  QoS를 정의하는 세 가지 구성 가능한 매개변수(최소 IOPS, 최대 IOPS, 버스트 IOPS)를 사용하여 초당 입력 및 출력(IOPS)으로 측정되는 클러스터 성능을 보장할 수 있습니다.' 
---
= 성능 및 서비스 품질
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
SolidFire 스토리지 클러스터는 볼륨별로 QoS(서비스 품질) 매개변수를 제공할 수 있습니다.  QoS를 정의하는 세 가지 구성 가능한 매개변수(최소 IOPS, 최대 IOPS, 버스트 IOPS)를 사용하여 초당 입력 및 출력(IOPS)으로 측정되는 클러스터 성능을 보장할 수 있습니다.


NOTE: SolidFire Active IQ 에는 QoS 설정의 최적 구성 및 설정에 대한 조언을 제공하는 QoS 권장 사항 페이지가 있습니다.



== 서비스 품질 매개변수

IOPS 매개변수는 다음과 같은 방식으로 정의됩니다.

* *최소 IOPS* - 스토리지 클러스터가 볼륨에 제공하는 초당 지속적인 입력 및 출력(IOPS)의 최소 수입니다.  볼륨에 구성된 최소 IOPS는 볼륨에 대해 보장되는 성능 수준입니다.  이 수준 이하로는 성능이 떨어지지 않습니다.
* *최대 IOPS* - 스토리지 클러스터가 볼륨에 제공하는 지속형 IOPS의 최대 수입니다.  클러스터 IOPS 수준이 매우 높은 경우, 이 수준의 IOPS 성능은 초과되지 않습니다.
* *버스트 IOPS* - 짧은 버스트 시나리오에서 허용되는 최대 IOPS 수입니다.  볼륨이 최대 IOPS보다 낮게 실행되면 버스트 크레딧이 누적됩니다.  성능 수준이 매우 높아지고 최대 수준으로 끌어올려지면 볼륨에서 짧은 IOPS 버스트가 허용됩니다.
+
Element 소프트웨어는 클러스터가 낮은 클러스터 IOPS 활용도 상태에서 실행될 때 Burst IOPS를 사용합니다.

+
단일 볼륨은 버스트 IOPS를 축적하고 이 크레딧을 사용하여 설정된 "버스트 기간" 동안 최대 IOPS를 초과하여 버스트 IOPS 수준까지 버스트할 수 있습니다.  클러스터에 버스트를 수용할 수 있는 용량이 있는 경우 볼륨은 최대 60초 동안 버스트될 수 있습니다.  볼륨은 최대 IOPS 한도보다 낮은 속도로 실행되는 매 초마다 1초의 버스트 크레딧(최대 60초)을 누적합니다.

+
버스트 IOPS는 두 가지 방법으로 제한됩니다.

+
** 볼륨은 볼륨이 축적한 버스트 크레딧 수와 동일한 시간(초) 동안 최대 IOPS를 초과하여 버스트할 수 있습니다.
** 볼륨이 최대 IOPS 설정을 초과하면 버스트 IOPS 설정에 의해 제한됩니다.  따라서 버스트 IOPS는 볼륨의 버스트 IOPS 설정을 초과하지 않습니다.


* *효과적인 최대 대역폭* - 최대 대역폭은 IOPS 수(QoS 곡선 기반)에 IO 크기를 곱하여 계산됩니다.
+
예: QoS 매개변수를 최소 IOPS 100, 최대 IOPS 1000, 버스트 IOPS 1500으로 설정하면 성능 품질에 다음과 같은 효과가 있습니다.

+
** 워크로드는 클러스터에서 IOPS에 대한 워크로드 경합 조건이 명확해질 때까지 최대 1000 IOPS에 도달하고 유지할 수 있습니다.  그런 다음 모든 볼륨의 IOPS가 지정된 QoS 범위 내에 있고 성능 경쟁이 완화될 때까지 IOPS를 점진적으로 줄입니다.
** 모든 볼륨의 성능은 최소 IOPS 100에 근접합니다.  수준은 최소 IOPS 설정보다 낮아지지 않지만 작업 부하 경합이 완화되면 100 IOPS보다 높게 유지될 수 있습니다.
** 성능은 1000 IOPS를 넘지 않으며, 일정 기간 동안 100 IOPS 미만이 되지 않습니다.  1500 IOPS(버스트 IOPS)의 성능은 허용되지만, 최대 IOPS 미만으로 실행하여 버스트 크레딧을 축적한 볼륨에만 해당되며 짧은 시간 동안만 허용됩니다.  버스트 수준은 지속되지 않습니다.






== QoS 값 제한

QoS에 대한 가능한 최소값과 최대값은 다음과 같습니다.

[cols="7*"]
|===
| 매개변수 | 최소값 | 기본 | 4 4KB | 5 8KB | 6 16KB | 262KB 


| 최소 IOPS | 50 | 50 | 15,000 | 9,375* | 5556* | 385* 


| 최대 IOPS | 100 | 15,000 | 20만** | 125,000 | 74,074 | 5128 


| 버스트 IOPS | 100 | 15,000 | 20만** | 125,000 | 74.074 | 5128 
|===
*이 추정치는 대략적인 수치입니다.  **최대 IOPS와 버스트 IOPS는 최대 200,000까지 설정할 수 있습니다. 하지만 이 설정은 볼륨의 성능을 효과적으로 제한하지 않는 경우에만 허용됩니다.  볼륨의 실제 최대 성능은 클러스터 사용 및 노드별 성능에 따라 제한됩니다.



== QoS 성능

QoS 성능 곡선은 블록 크기와 IOPS 비율 간의 관계를 보여줍니다.

블록 크기와 대역폭은 애플리케이션이 얻을 수 있는 IOPS 수에 직접적인 영향을 미칩니다.  Element 소프트웨어는 수신한 블록 크기를 고려하여 블록 크기를 4k로 정규화합니다.  작업 부하에 따라 시스템이 블록 크기를 늘릴 수 있습니다. 블록 크기가 증가함에 따라 시스템은 더 큰 블록 크기를 처리하는 데 필요한 수준으로 대역폭을 늘립니다.  대역폭이 증가함에 따라 시스템이 달성할 수 있는 IOPS 수는 감소합니다.

QoS 성능 곡선은 블록 크기 증가와 IOPS 비율 감소 간의 관계를 보여줍니다.

image::../media/solidfire_qos_performance_curve.png[QoS에 대해 블록 크기 증가와 IOPS 간의 관계를 설명합니다.]

예를 들어, 블록 크기가 4k이고 대역폭이 4000KBps인 경우 IOPS는 1000입니다.  블록 크기가 8k로 늘어나면 대역폭은 5000KBps로 늘어나고 IOPS는 625로 감소합니다.  시스템은 블록 크기를 고려하여 백업 및 하이퍼바이저 활동과 같이 더 높은 블록 크기를 사용하는 우선순위가 낮은 워크로드가 더 작은 블록 크기를 사용하는 우선순위가 높은 트래픽에 필요한 성능을 너무 많이 차지하지 않도록 보장합니다.



== QoS 정책

QoS 정책을 사용하면 여러 볼륨에 적용할 수 있는 표준화된 서비스 품질 설정을 만들고 저장할 수 있습니다.

QoS 정책은 데이터베이스, 애플리케이션 또는 인프라 서버가 재부팅이 거의 없고 저장소에 대한 지속적인 동일 액세스가 필요한 서비스 환경에 가장 적합합니다.  개별 볼륨 QoS는 매일 또는 하루에 여러 번 재부팅, 전원 켜기 또는 전원 끄기가 가능한 가상 데스크톱이나 특수 키오스크 유형 VM과 같이 사용량이 적은 VM에 가장 적합합니다.

QoS와 QoS 정책은 함께 사용해서는 안 됩니다.  QoS 정책을 사용하는 경우 볼륨에서 사용자 지정 QoS를 사용하지 마세요.  사용자 지정 QoS는 볼륨 QoS 설정에 대한 QoS 정책 값을 재정의하고 조정합니다.


NOTE: QoS 정책을 사용하려면 선택한 클러스터가 Element 10.0 이상이어야 합니다. 그렇지 않으면 QoS 정책 기능을 사용할 수 없습니다.



== 더 많은 정보를 찾아보세요

* https://docs.netapp.com/us-en/element-software/index.html["SolidFire 및 Element 소프트웨어 문서"]

